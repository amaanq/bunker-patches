From bf64e18fae1186cd07fe93a406a289b2f35d7fc9 Mon Sep 17 00:00:00 2001
From: Alexandre Frade <kernel@xanmod.org>
Date: Thu, 6 Jan 2022 16:59:01 +0000
Subject: [PATCH 31/166] block/mq-deadline: disable front_merges by default

---
 block/mq-deadline.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/block/mq-deadline.c b/block/mq-deadline.c
index 3e3719093aec..ada3c6d2f3b6 100644
--- a/block/mq-deadline.c
+++ b/block/mq-deadline.c
@@ -564,11 +564,11 @@ static int dd_init_sched(struct request_queue *q, struct elevator_queue *eq)
 		per_prio->sort_list[DD_WRITE] = RB_ROOT;
 	}
 	dd->fifo_expire[DD_READ] = read_expire;
 	dd->fifo_expire[DD_WRITE] = write_expire;
 	dd->writes_starved = writes_starved;
-	dd->front_merges = 1;
+	dd->front_merges = 0;
 	dd->last_dir = DD_WRITE;
 	dd->fifo_batch = fifo_batch;
 	dd->prio_aging_expire = prio_aging_expire;
 	spin_lock_init(&dd->lock);
 
-- 
2.52.0

