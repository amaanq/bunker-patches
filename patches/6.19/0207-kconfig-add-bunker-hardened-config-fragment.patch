From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Amaan Qureshi <git@amaanq.com>
Date: Thu, 13 Feb 2026 00:00:00 +0000
Subject: [PATCH] kconfig: add bunker-hardened config fragment

Add kernel/configs/bunker-hardened.config â€” a Kconfig fragment that
disables ~237 dead/unused CONFIG options to reduce attack surface,
build time, and kernel image size. Safe for any x86_64 desktop,
laptop, or server.

Non-Nix users can apply with:
  scripts/kconfig/merge_config.sh .config kernel/configs/bunker-hardened.config

Users are encouraged to review and re-enable any options they need
before building. This is an opinionated starting point, not a
mandatory configuration.

Signed-off-by: Amaan Qureshi <git@amaanq.com>
---
 kernel/configs/bunker-hardened.config | 287 ++++++++++++++++++++++++++
 1 file changed, 287 insertions(+)
 create mode 100644 kernel/configs/bunker-hardened.config

diff --git a/kernel/configs/bunker-hardened.config b/kernel/configs/bunker-hardened.config
new file mode 100644
index 000000000000..000000000001
--- /dev/null
+++ b/kernel/configs/bunker-hardened.config
@@ -0,0 +1,287 @@
+# bunkernel hardened Kconfig fragment
+# Usage: scripts/kconfig/merge_config.sh .config kernel/configs/bunker-hardened.config
+#
+# This fragment disables ~237 dead/unused CONFIG options to reduce
+# attack surface, build time, and kernel image size.
+# Safe for any x86_64 desktop/laptop/server.
+#
+# Enable options
+CONFIG_CFI=y
+# CONFIG_CFI_PERMISSIVE is not set
+CONFIG_ZERO_CALL_USED_REGS=y
+CONFIG_SECURITY_SAFESETID=y
+
+# Dead network hardware
+# CONFIG_ARCNET is not set
+# CONFIG_FDDI is not set
+# CONFIG_HIPPI is not set
+# CONFIG_PLIP is not set
+# CONFIG_EQUALIZER is not set
+
+# Dead network protocols
+# CONFIG_ATALK is not set
+# CONFIG_ATM is not set
+# CONFIG_AX25 is not set
+# CONFIG_CAN is not set
+# CONFIG_DECNET is not set
+# CONFIG_HAMRADIO is not set
+# CONFIG_IEEE802154 is not set
+# CONFIG_IP_DCCP is not set
+# CONFIG_IP_SCTP is not set
+# CONFIG_IPX is not set
+# CONFIG_NETROM is not set
+# CONFIG_N_HDLC is not set
+# CONFIG_ROSE is not set
+# CONFIG_RDS is not set
+# CONFIG_TIPC is not set
+# CONFIG_X25 is not set
+# CONFIG_AF_RXRPC is not set
+# CONFIG_AF_KCM is not set
+# CONFIG_PHONET is not set
+# CONFIG_CAIF is not set
+# CONFIG_6LOWPAN is not set
+# CONFIG_NFC is not set
+# CONFIG_WIMAX is not set
+# CONFIG_MCTP is not set
+# CONFIG_QRTR is not set
+# CONFIG_HSR is not set
+# CONFIG_MPLS is not set
+# CONFIG_BATMAN_ADV is not set
+# CONFIG_NET_DSA is not set
+
+# Server/cloud networking
+# CONFIG_GENEVE is not set
+# CONFIG_NET_TEAM is not set
+# CONFIG_MACSEC is not set
+# CONFIG_NET_SWITCHDEV is not set
+
+# Dead/unused filesystems
+# CONFIG_ADFS_FS is not set
+# CONFIG_AFFS_FS is not set
+# CONFIG_AFS_FS is not set
+# CONFIG_BEFS_FS is not set
+# CONFIG_BFS_FS is not set
+# CONFIG_CEPH_FS is not set
+# CONFIG_CIFS is not set
+# CONFIG_CRAMFS is not set
+# CONFIG_EFS_FS is not set
+# CONFIG_EROFS_FS is not set
+# CONFIG_F2FS_FS is not set
+# CONFIG_GFS2_FS is not set
+# CONFIG_HFS_FS is not set
+# CONFIG_HFSPLUS_FS is not set
+# CONFIG_HPFS_FS is not set
+# CONFIG_JFFS2_FS is not set
+# CONFIG_JFS_FS is not set
+# CONFIG_MINIX_FS is not set
+# CONFIG_NILFS2_FS is not set
+# CONFIG_OCFS2_FS is not set
+# CONFIG_OMFS_FS is not set
+# CONFIG_ORANGEFS_FS is not set
+# CONFIG_QNX4FS_FS is not set
+# CONFIG_QNX6FS_FS is not set
+# CONFIG_REISERFS_FS is not set
+# CONFIG_SMB_SERVER is not set
+# CONFIG_SQUASHFS is not set
+# CONFIG_SYSV_FS is not set
+# CONFIG_UDF_FS is not set
+# CONFIG_VXFS_FS is not set
+# CONFIG_ZONEFS_FS is not set
+# CONFIG_9P_FS is not set
+# CONFIG_CODA_FS is not set
+# CONFIG_ROMFS_FS is not set
+# CONFIG_UBIFS_FS is not set
+# CONFIG_NTFS_FS is not set
+# CONFIG_MSDOS_FS is not set
+
+# Dead subsystems
+# CONFIG_FIREWIRE is not set
+# CONFIG_INFINIBAND is not set
+# CONFIG_ISDN is not set
+# CONFIG_PCMCIA is not set
+# CONFIG_PARPORT is not set
+# CONFIG_GAMEPORT is not set
+# CONFIG_COMEDI is not set
+# CONFIG_GREYBUS is not set
+# CONFIG_STAGING is not set
+
+# Dead buses/subsystems (industrial/embedded/ARM)
+# CONFIG_VME_BUS is not set
+# CONFIG_RAPIDIO is not set
+# CONFIG_IPACK is not set
+# CONFIG_SIOX is not set
+# CONFIG_HSI is not set
+# CONFIG_MOST is not set
+# CONFIG_SPMI is not set
+# CONFIG_SLIMBUS is not set
+# CONFIG_INTERCONNECT is not set
+# CONFIG_W1 is not set
+# CONFIG_NTB is not set
+# CONFIG_COUNTER is not set
+# CONFIG_GNSS is not set
+# CONFIG_MELLANOX_PLATFORM is not set
+# CONFIG_PCCARD is not set
+# CONFIG_AGP is not set
+# CONFIG_EISA is not set
+# CONFIG_I3C is not set
+# CONFIG_MTD is not set
+
+# Dead memory technologies
+# CONFIG_LIBNVDIMM is not set
+# CONFIG_DEV_DAX is not set
+# CONFIG_CXL_BUS is not set
+
+# Dead GPU drivers
+# CONFIG_DRM_SIS is not set
+# CONFIG_DRM_VIA is not set
+# CONFIG_DRM_SAVAGE is not set
+# CONFIG_DRM_NOUVEAU is not set
+# CONFIG_DRM_RADEON is not set
+
+# Dead misc hardware
+# CONFIG_MEMSTICK is not set
+# CONFIG_PHONE is not set
+# CONFIG_AUXDISPLAY is not set
+# CONFIG_ACRN_GUEST is not set
+# CONFIG_RAW_DRIVER is not set
+# CONFIG_DCA is not set
+# CONFIG_HANGCHECK_TIMER is not set
+# CONFIG_DEVPORT is not set
+# CONFIG_HOTPLUG_PCI_CPCI is not set
+# CONFIG_BLK_DEV_DRBD is not set
+# CONFIG_MOUSE_SERIAL is not set
+# CONFIG_SERIO_SERPORT is not set
+# CONFIG_SND_ISA is not set
+# CONFIG_SND_OPL3_LIB is not set
+# CONFIG_SND_OPL4_LIB is not set
+# CONFIG_SND_MPU401_UART is not set
+# CONFIG_SND_SB_COMMON is not set
+# CONFIG_SND_OSSEMUL is not set
+# CONFIG_SND_PCM_OSS is not set
+# CONFIG_SND_MIXER_OSS is not set
+# CONFIG_SND_SEQUENCER_OSS is not set
+# CONFIG_SND_SERIAL_U16550 is not set
+
+# Dead input devices
+# CONFIG_JOYSTICK_ANALOG is not set
+# CONFIG_MOUSE_ATIXL is not set
+# CONFIG_MOUSE_INPORT is not set
+# CONFIG_MOUSE_LOGIBM is not set
+# CONFIG_KEYBOARD_LKKBD is not set
+# CONFIG_KEYBOARD_NEWTON is not set
+# CONFIG_KEYBOARD_SUNKBD is not set
+# CONFIG_KEYBOARD_STOWAWAY is not set
+
+# Dead platform drivers
+# CONFIG_SONYPI is not set
+# CONFIG_ACPI_CMPC is not set
+# CONFIG_COMPAL_LAPTOP is not set
+# CONFIG_AMILO_RFKILL is not set
+# CONFIG_TOSHIBA_HAPS is not set
+
+# Dead block/storage hardware
+# CONFIG_BLK_DEV_FD is not set
+# CONFIG_PATA_LEGACY is not set
+# CONFIG_PATA_ISAPNP is not set
+# CONFIG_BLK_DEV_DAC960 is not set
+# CONFIG_BLK_DEV_UMEM is not set
+
+# Dead cpufreq drivers
+# CONFIG_X86_SPEEDSTEP_CENTRINO is not set
+# CONFIG_X86_SPEEDSTEP_ICH is not set
+# CONFIG_X86_SPEEDSTEP_SMI is not set
+# CONFIG_X86_SPEEDSTEP_LIB is not set
+# CONFIG_X86_P4_CLOCKMOD is not set
+# CONFIG_X86_POWERNOW_K6 is not set
+# CONFIG_X86_POWERNOW_K7 is not set
+# CONFIG_X86_POWERNOW_K8 is not set
+# CONFIG_X86_GX_SUSPMOD is not set
+# CONFIG_X86_LONGHAUL is not set
+# CONFIG_X86_E_POWERSAVER is not set
+# CONFIG_X86_LONGRUN is not set
+
+# Dead misc drivers
+# CONFIG_APPLICOM is not set
+# CONFIG_PHANTOM is not set
+# CONFIG_TIFM_CORE is not set
+# CONFIG_TELCLOCK is not set
+# CONFIG_ECHO is not set
+# CONFIG_RPMSG is not set
+# CONFIG_REMOTEPROC is not set
+
+# Dead media
+# CONFIG_MEDIA_ANALOG_TV_SUPPORT is not set
+# CONFIG_MEDIA_DIGITAL_TV_SUPPORT is not set
+# CONFIG_DVB_CORE is not set
+# CONFIG_MEDIA_SDR_SUPPORT is not set
+
+# Dead network transports
+# CONFIG_SLIP is not set
+# CONFIG_ATA_OVER_ETH is not set
+# CONFIG_LAPB is not set
+# CONFIG_NET_9P is not set
+# CONFIG_PKTGEN is not set
+# CONFIG_N_GSM is not set
+# CONFIG_BT_CMTP is not set
+
+# Server block/storage
+# CONFIG_BLK_DEV_NBD is not set
+# CONFIG_BLK_DEV_RBD is not set
+# CONFIG_TARGET_CORE is not set
+# CONFIG_ISCSI_TCP is not set
+# CONFIG_NVME_TARGET is not set
+
+# Unused large subsystems
+# CONFIG_AUDIT is not set
+# CONFIG_IP_VS is not set
+# CONFIG_NFSD is not set
+# CONFIG_QUOTA is not set
+
+# Legacy/deprecated
+# CONFIG_USELIB is not set
+# CONFIG_SYSFS_SYSCALL is not set
+# CONFIG_PCSPKR_PLATFORM is not set
+# CONFIG_KEXEC is not set
+# CONFIG_CDROM_PKTCDVD is not set
+# CONFIG_EFI_VARS is not set
+# CONFIG_RAID_AUTODETECT is not set
+# CONFIG_FB_DEVICE is not set
+# CONFIG_FRAMEBUFFER_CONSOLE_LEGACY_ACCELERATION is not set
+# CONFIG_X86_IOPL_IOPERM is not set
+# CONFIG_X86_VSYSCALL_EMULATION is not set
+# CONFIG_X86_X32_ABI is not set
+# CONFIG_X86_MPPARSE is not set
+# CONFIG_X86_EXTENDED_PLATFORM is not set
+# CONFIG_GART_IOMMU is not set
+# CONFIG_REROUTE_FOR_BROKEN_BOOT_IRQS is not set
+# CONFIG_MSDOS_PARTITION is not set
+# CONFIG_ACCESSIBILITY is not set
+# CONFIG_SCSI_LOWLEVEL is not set
+# CONFIG_X86_SGX is not set
+# CONFIG_SECURITY_SELINUX is not set
+# CONFIG_SECURITY_TOMOYO is not set
+
+# Obsolete crypto
+# CONFIG_CRYPTO_USER_API_ENABLE_OBSOLETE is not set
+# CONFIG_CRYPTO_FCRYPT is not set
+
+# Debug/testing infrastructure
+# CONFIG_KCOV is not set
+# CONFIG_GCOV_KERNEL is not set
+# CONFIG_FAULT_INJECTION is not set
+# CONFIG_KASAN is not set
+# CONFIG_KMEMLEAK is not set
+# CONFIG_PROVE_LOCKING is not set
+# CONFIG_LOCK_STAT is not set
+# CONFIG_NOTIFIER_ERROR_INJECTION is not set
+# CONFIG_DEBUG_PAGEALLOC is not set
+# CONFIG_KUNIT is not set
+# CONFIG_EXT4_DEBUG is not set
+# CONFIG_JBD2_DEBUG is not set
+# CONFIG_SLUB_DEBUG is not set
+# CONFIG_DYNAMIC_DEBUG is not set
+
+# VM guest (bare-metal only)
+# CONFIG_DRM_VIRTIO_GPU is not set
+# CONFIG_VIDEO_VIVID is not set
--
2.49.0

